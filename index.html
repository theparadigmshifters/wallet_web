<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EON Wallet</title>
<link rel="stylesheet" href="index.css">
</head>
<body>
<div class="container">
<header class="header">
<div class="logo">
<span class="logo-icon">⬡</span>
<h1>EON <span class="accent">WALLET</span></h1>
</div>
<div class="wallet-switcher">
<button id="walletSwitcherBtn" class="wallet-switcher-btn">
<span class="wallet-switcher-icon">⬢</span>
<span id="currentWalletName">No Wallet</span>
<span class="wallet-switcher-arrow">▾</span>
</button>
<div id="walletDropdown" class="wallet-dropdown" style="display:none;">
<div id="walletList" class="wallet-list"></div>
<div class="wallet-dropdown-actions">
<button id="addWalletBtn" class="btn btn-primary btn-small">+ Add Wallet</button>
</div>
</div>
</div>
<div class="network-status">
<span class="status-indicator" id="statusIndicator"></span>
<span class="status-text">DEVNET</span>
</div>
</header>
<nav class="nav">
<a href="#wallet" class="nav-link active" data-page="wallet">
<span class="nav-icon">⬢</span>
<span>Wallet</span>
</a>
<a href="#send" class="nav-link" data-page="send">
<span class="nav-icon">◈</span>
<span>Send</span>
</a>
<a href="#settings" class="nav-link" data-page="settings">
<span class="nav-icon">⚙</span>
<span>Settings</span>
</a>
</nav>
<main id="content" class="content"></main>
<footer class="footer">
<div class="footer-info">
<span>API: <span id="apiStatus">Connected</span></span>
<span class="separator">|</span>
<span>Block: <span id="blockHeight">--</span></span>
<span class="separator">|</span>
<span>Updated: <span id="lastUpdate">--</span></span>
</div>
</footer>
</div>
<div id="templates" style="display: none;">
<template id="walletTemplate">
<div class="page-header">
<h2>My Wallet</h2>
<button id="refreshBtn" class="btn btn-small btn-secondary">
<span class="btn-icon">⟳</span>
Refresh
</button>
</div>
<div class="wallet-card">
<div class="balance-section">
<div class="balance-label">Total Balance</div>
<div class="balance-value" id="totalBalance">0</div>
<div class="balance-fiat" id="balanceFiat">≈ $0.00</div>
</div>
<div class="address-section">
<div class="address-label">Address</div>
<div class="address-value">
<span id="walletAddress">--</span>
<button id="copyAddressBtn" class="btn-icon-only" title="Copy">⧉</button>
</div>
</div>
</div>
<div class="section">
<h3>UTXOs</h3>
<div id="utxoList"></div>
</div>
</template>
<template id="sendTemplate">
<div class="page-header">
<h2>Send Transaction</h2>
</div>
<div class="form-card">
<div class="form-group">
<label>To Address</label>
<input type="text" id="toAddress" class="form-input" placeholder="0x...">
</div>
<div class="form-group">
<label>Amount</label>
<input type="text" id="sendAmount" class="form-input" placeholder="0">
</div>
<div class="form-group">
<label>Fee</label>
<input type="text" id="sendFee" class="form-input" placeholder="0">
<div class="form-hint">Network fee for transaction processing</div>
</div>
<div class="form-actions">
<button id="sendBtn" class="btn btn-primary">
<span class="btn-icon">→</span>
Send Transaction
</button>
</div>
<div id="sendResult"></div>
</div>
</template>
<template id="settingsTemplate">
<div class="page-header">
<h2>Settings</h2>
</div>
<div class="settings-section">
<h3>Wallets</h3>
<div id="walletManagementList"></div>
</div>
<div class="settings-section">
<h3>ZK Proof System (SRS Files)</h3>
<div class="setting-item">
<div class="setting-info">
<div class="setting-label">SRS Status</div>
<div class="setting-desc" id="srsStatus">Checking...</div>
</div>
<div class="setting-actions">
<button id="uploadSRSBtn" class="btn btn-secondary btn-small">Upload Custom SRS</button>
<button id="clearSRSBtn" class="btn btn-danger btn-small" style="display:none;">Clear SRS</button>
</div>
</div>
<div id="srsFileList" class="setting-desc" style="margin-top: 10px;"></div>
<div class="form-hint" style="margin-top: 10px;">
Required files: <strong>SRS.CK.BIN</strong> and <strong>SRS.LK.BIN</strong>. Files will be auto-downloaded on first load.
</div>
</div>
<div class="settings-section">
<h3>Network</h3>
<div class="setting-item">
<div class="setting-info">
<div class="setting-label">API Endpoint</div>
<div class="setting-desc" id="currentEndpoint">https://eon.zk524.com</div>
</div>
<div class="setting-actions">
<button id="changeEndpointBtn" class="btn btn-secondary btn-small">Change</button>
</div>
</div>
</div>
</template>
</div>
<script src="srs-manager.js"></script>
<script src="srs-ui.js"></script>
<script src="go-wasm-loader.js"></script>
<script src="wasm.js"></script>
<script src="index.js"></script>
<script>
// Override setupSettings to include SRS management
const originalSetupSettings = window.setupSettings || function() {};
window.setupSettings = function() {
    renderWalletManagement();
    document.getElementById('changeEndpointBtn').addEventListener('click', changeEndpoint);
    setupSRSManagement();
};
</script>
</body>
</html>
